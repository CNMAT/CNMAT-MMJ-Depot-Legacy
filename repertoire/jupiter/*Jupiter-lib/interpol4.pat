max v2;#N vpatcher 126 100 959 669;#P newex 338 308 198 1 r $1-expB-explay;#P comment 547 362 55 1 explode 2;#P newex 430 336 234 1 r $1-expB;#N explode;#X restore;#X stop;#P newobj 429 361 111 1 explode $1-exp2;#P newex 318 516 99 1 r $1-print;#P newex 319 540 99 1 print $1;#P newex 319 423 231 1 expr (\\\$f1 * (1. - \\\$f3) + \\\$f2 * \\\$f3 + .5);#P newex 318 463 250 1 s $1-expr-output;#P newex 428 386 112 1 explay $1-exp2;#P newex 574 422 221 1 r $1-reset-play-loop;#P outlet 573 448 15;#P message 248 368 115 1 set $1-yyy;#P newex 247 338 117 1 r $1-exp-pre-rec;#P newex 240 24 186 1 r $1-expA-explay;#P newex 179 51 114 1 r $1-exp-pre-rec;#P message 178 77 116 1 set $1-xxx;#P newex 319 46 254 1 r $1-expA;#N explode;#X restore;#X stop;#P newobj 319 71 136 1 explode $1-exp1;#P newex 319 95 136 1 explay $1-exp1;#P newex 668 113 50 1 r interdel;#P comment 358 148 87 1 end of note loop;#P outlet 490 154 15;#N vpatcher 433 53 919 453;#P message 182 77 96 1 start \, next;#P outlet 262 320 22;#P newex 174 214 50 1 - 1;#P comment 80 344 67 1 to number of playbacks;#P inlet 99 15 15;#P newex 99 37 38 1 t b b;#P newex 98 239 85 1 sel;#P newex 136 188 31 1 + 1;#P newex 98 184 31 1 i;#P message 126 66 35 1 next;#P outlet 125 96 15;#P outlet 97 321 15;#P newex 120 124 225 1 r $1-reset-play-loop;#P newex 175 187 209 1 r $1-num-notes;#P comment 146 99 133 1 out to rest of the world;#P newex 119 151 50 1 i 1;#P newex 183 51 232 1 r $1-init-playback;#P comment 211 149 127 1 re-init for each loop thru;#P comment 259 210 95 1 number of notes;#P connect 10 0 17 0;#P connect 16 0 12 1;#P connect 12 0 7 0;#P connect 14 0 13 0;#P connect 10 0 12 0;#P connect 13 0 10 0;#P connect 10 0 11 0;#P connect 11 0 10 1;#P connect 13 1 9 0;#P connect 9 0 8 0;#P connect 5 0 16 0;#P connect 2 0 18 0;#P connect 18 0 8 0;#P connect 6 0 3 0;#P connect 3 0 10 1;#P pop;#P newobj 350 126 291 1 patcher playback_loop;#P toggle 647 69;#P newex 647 43 50 1 r fucker;#P inlet 767 51 15;#P inlet 718 52 15;#P newex 728 134 36 1 del;#P newex 728 109 36 1 t b i;#P newex 728 85 50 1 gate;#P number 631 175 35 1;#P comment 667 174 79 1 note index;#P newex 14 194 50 1 + 1;#P newex 14 171 129 1 unpack 0 0;#P newex 133 197 142 1 s $1-num-playbacks;#P message 14 248 229 1 1) record into first explode with arguments for number of notes and number of cycles \; 2) record into second explode with a bang message \; 3) playback interpolation cycles with a bang message \; 4) messages for first explode object \; 5) messages for second explode object \; 6) number of notes (unpacked from first argument) \; 7) number of playback cycles (unpacked from first argument also) \; 8) resets playback loop cycle \; 9) output of expression object \; 10) sort of init playback to send a start and next to outside world \; 11) pause playback \; 12 continue playback \;;#P newex 14 217 227 1 s $1-num-notes;#P comment 15 233 86 1 number of notes;#P comment 150 181 108 1 number of playbacks;#P flonum 538 256 35 1;#P comment 515 164 84 1 next message to outside world;#N vpatcher 200 107 827 793;#P newex 347 485 50 1 r reset;#P newex 514 521 50 1 i 0;#P newex 346 529 50 1 i 0;#P newex 199 527 50 1 i 0;#P outlet 509 455 34;#P comment 482 655 128 1 end of everything signal;#P outlet 454 655 15;#P comment 302 628 50 1 loop for cycles;#P comment 163 362 50 1 next cycling;#P comment 227 448 74 1 interpolation step;#P comment 317 564 100 1 end of note loop>>;#P toggle 305 548;#P toggle 455 549;#P newex 455 520 50 1 i 1;#P newex 454 605 83 1 gate;#P inlet 419 556 15;#P newex 304 603 124 1 gate;#P newex 132 527 50 1 f 1.;#P comment 27 541 93 1 final cycle - with 1. as interpolation;#P outlet 131 555 15;#P newex 132 500 50 1 t b b;#P newex 35 208 50 1 del 0;#P comment 350 276 56 1 playback cycle loop;#P newex 305 209 50 1 t i b;#P comment 309 125 130 1 number of playback cycles;#P newex 254 123 50 1 + 1;#P newex 254 97 256 1 r $1-num-playbacks;#P newex 131 16 227 1 r $1-start;#P outlet 244 430 15;#P outlet 219 384 15;#P newex 243 297 30 1 / 1.;#P newex 173 209 45 1 i 0;#P newex 129 228 31 1 i;#P newex 171 237 31 1 + 1;#P newex 130 278 50 1 t i i;#P newex 131 309 97 1 sel;#P newex 131 149 133 1 i;#P newex 130 184 187 1 t b b i i i;#P newex 36 183 50 1 r interdel;#P newex 130 40 63 1 t b b b;#P newex 156 71 229 1 s $1-init-playback;#P message 413 60 77 1 \; interdel stop;#P connect 40 0 29 0;#P connect 18 1 40 0;#P connect 38 0 30 0;#P connect 21 1 38 0;#P connect 27 0 35 0;#P connect 18 0 30 0;#P connect 4 4 18 0;#P connect 26 0 27 1;#P connect 39 0 29 0;#P connect 28 0 29 0;#P connect 21 1 28 0;#P connect 29 0 27 0;#P connect 16 0 5 1;#P connect 15 0 16 0;#P connect 7 0 37 0;#P connect 24 0 22 0;#P connect 6 1 12 0;#P connect 11 0 13 0;#P connect 10 0 9 1;#P connect 8 0 9 1;#P connect 9 0 8 0;#P connect 9 0 7 0;#P connect 7 1 11 0;#P connect 7 0 6 0;#P connect 20 0 9 0;#P connect 30 0 25 0;#P connect 26 0 25 1;#P connect 25 0 20 0;#P connect 41 0 39 0;#P connect 39 0 30 0;#P connect 5 0 4 0;#P connect 4 3 11 1;#P connect 4 2 6 1;#P connect 4 1 10 0;#P connect 4 0 9 0;#P connect 6 0 21 0;#P connect 21 0 24 0;#P connect 3 0 20 0;#P connect 2 1 1 0;#P connect 2 0 5 0;#P connect 14 0 2 0;#P connect 2 2 0 0;#P pop;#P newobj 350 194 389 1 patcher number_of_playbacks;#P comment 360 215 61 1 final cycle;#P comment 455 216 62 1 next cycle;#P newex 350 235 81 1 t b f;#N vpatcher 272 123 946 553;#P comment 66 288 54 1 <<start>>mess;#P message 125 286 33 1 1;#P newex 32 362 249 1 s $1-expA-explay;#P comment 304 291 50 1 << next mess;#P message 263 289 34 1 bang;#P message 217 288 34 1 bang;#P message 31 285 31 1 1;#P comment 391 337 208 1 These now refer to appropriate explay objects with the name of respective recorded explodes. This can be changed by hand to a pre-recorded explode if the recording sounds like a failure.;#P newex 125 339 249 1 s $1-expB-explay;#P newex 67 214 50 1 r interdel;#P newex 218 94 46 1 i 1;#P message 133 134 50 1 stop;#P newex 275 115 45 1 r reset;#P newex 31 69 292 1 t b b b b;#P inlet 32 43 15;#P newex 218 236 53 1 del;#P newex 218 210 53 1 t b i;#P toggle 218 162;#P newex 218 184 55 1 gate;#P newex 218 262 55 1 t b b;#P newex 275 143 45 1 i 0;#P inlet 284 43 15;#P comment 304 45 59 1 next cycle;#P comment 55 42 59 1 last cycle;#P comment 361 112 94 1 reset play loop;#P comment 359 188 99 1 output from expr;#P newex 359 89 220 1 s $1-reset-play-loop;#P newex 357 163 236 1 r $1-expr-output;#P newex 350 235 197 1 r $1-continue;#P newex 45 107 165 1 r $1-pause;#P connect 28 0 21 0;#P connect 25 0 21 0;#P connect 24 0 27 0;#P connect 23 0 27 0;#P connect 20 0 14 0;#P connect 1 0 10 0;#P connect 0 0 18 0;#P connect 18 0 14 0;#P connect 17 0 18 0;#P connect 10 1 25 0;#P connect 15 0 16 0;#P connect 10 0 24 0;#P connect 14 0 10 0;#P connect 11 0 13 0;#P connect 9 0 12 0;#P connect 17 0 9 0;#P connect 19 0 12 0;#P connect 13 1 14 1;#P connect 13 0 14 0;#P connect 12 0 11 0;#P connect 16 0 23 0;#P connect 16 1 28 0;#P connect 16 2 19 0;#P connect 8 0 16 0;#P connect 2 0 11 1;#P connect 16 3 3 0;#P pop;#P newobj 350 262 105 1 patcher start_playback;#P number 726 222 35 1;#P comment 712 246 67 1 cycle index;#P outlet 631 219 15;#P comment 580 235 126 1 end of everything signal;#P comment 551 273 106 1 interpolation factor (between 0 and 1);#P message 728 157 50 1 next;#P message 170 148 140 1 \; $1-print record debut;#P newex 14 128 140 1 r $1-rec-debut;#N vpatcher 365 196 999 757;#P newex 369 334 31 1 + 1;#P newex 327 332 31 1 i;#P newex 348 292 45 1 i 0;#P newex 327 370 73 1 sel 0 1;#P newex 492 216 105 1 r $1-num-notes;#P newex 452 243 50 1 i;#P comment 503 179 50 1 number of notes;#P newex 310 524 86 1 s $1-expB;#P message 243 507 43 1 record;#P newex 452 504 131 1 pack 0 60 64 200 1;#P newex 310 411 152 1 sel;#P message 310 464 31 1 stop;#P newex 310 434 50 1 t b b;#P newex 138 157 325 1 t b b b b;#P newex 138 185 30 1 i 1;#P newex 138 312 55 1 gate;#P toggle 139 286;#P newex 41 304 44 1 i 0;#P newex 40 273 50 1 r reset;#P newex 138 68 83 1 r $1-rec-fin;#P message 264 89 144 1 \; $1-print record fin;#P message 48 453 144 1 \; $1-print got fin;#P comment 173 227 50 1 incoming notes;#P inlet 183 262 15;#P newex 182 283 50 1 t b i;#P newex 485 448 40 1 t b b;#P newex 485 475 40 1 timer;#P connect 23 1 0 0;#P connect 23 2 16 0;#P connect 25 0 23 0;#P connect 24 0 25 1;#P connect 13 2 24 0;#P connect 13 0 12 0;#P connect 13 1 18 0;#P connect 13 3 21 0;#P connect 14 0 9 0;#P connect 14 1 1 0;#P connect 14 0 15 0;#P connect 16 0 14 0;#P connect 9 0 10 0;#P connect 12 0 10 0;#P connect 10 0 11 0;#P connect 11 0 25 0;#P connect 1 0 0 0;#P connect 1 1 0 1;#P connect 25 0 26 0;#P connect 26 0 25 1;#P connect 0 0 17 0;#P connect 16 1 1 0;#P connect 8 0 9 0;#P connect 22 0 21 1;#P connect 17 0 19 0;#P connect 15 0 19 0;#P connect 18 0 19 0;#P connect 7 0 13 0;#P connect 21 0 16 1;#P connect 7 0 6 0;#P connect 14 0 5 0;#P connect 3 0 2 0;#P connect 2 0 11 1;#P connect 2 1 17 1;#P pop;#P newobj 138 102 114 1 patcher record_B;#P newex 14 60 50 1 r pitch1;#N vpatcher 238 61 917 740;#P newex 318 366 73 1 sel 0 1;#P newex 302 532 93 1 s $1-expA;#P newex 302 419 152 1 sel;#P newex 444 512 131 1 pack 0 60 64 200 1;#P message 235 515 43 1 record;#P message 301 499 31 1 stop;#P newex 302 442 50 1 t b b;#P comment 132 86 50 1 number of notes;#P comment 181 228 50 1 incoming notes;#P newex 33 266 50 1 r reset;#P newex 34 297 44 1 i 0;#P toggle 132 279;#P newex 131 305 55 1 gate;#P newex 131 150 323 1 t b b b i;#P newex 359 328 31 1 + 1;#P newex 317 326 31 1 i;#P newex 131 178 30 1 i 1;#P newex 132 122 103 1 r $1-num-notes;#P newex 338 287 45 1 i 0;#P message 32 459 50 1 \; $1-print got debut;#P inlet 176 257 15;#P newex 176 279 50 1 t b i;#P newex 467 475 40 1 timer;#P newex 467 448 40 1 t b b;#P connect 10 2 5 0;#P connect 5 0 8 1;#P connect 23 2 21 0;#P connect 23 1 1 0;#P connect 8 0 23 0;#P connect 21 0 17 0;#P connect 14 0 13 0;#P connect 21 1 0 0;#P connect 1 0 20 0;#P connect 9 0 8 1;#P connect 8 0 9 0;#P connect 0 1 1 1;#P connect 0 0 1 0;#P connect 11 0 8 0;#P connect 12 0 11 0;#P connect 7 0 12 0;#P connect 13 0 12 0;#P connect 17 0 18 0;#P connect 17 1 0 0;#P connect 17 0 13 0;#P connect 10 0 7 0;#P connect 10 1 19 0;#P connect 20 0 22 0;#P connect 18 0 22 0;#P connect 19 0 22 0;#P connect 6 0 10 0;#P connect 10 3 21 1;#P connect 17 0 4 0;#P connect 3 0 2 0;#P connect 2 0 11 1;#P connect 2 1 20 1;#P pop;#P newobj 14 107 114 1 patcher record_A;#P newex 14 83 50 1 t i;#P comment 460 71 55 1 explode 1;#P connect 47 0 50 0;#P connect 46 0 47 0;#P connect 43 0 40 0;#P connect 44 0 43 0;#P connect 50 0 52 1;#P connect 40 0 52 0;#P connect 40 1 36 0;#P connect 56 0 55 0;#P connect 42 0 41 0;#P connect 39 0 31 0;#P connect 35 0 29 0;#P connect 34 0 35 0;#P connect 33 0 29 1;#P connect 29 0 30 0;#P connect 30 1 31 1;#P connect 30 0 31 0;#P connect 19 0 52 2;#P connect 52 0 51 0;#P connect 17 3 10 0;#P connect 17 4 12 0;#P connect 36 2 28 0;#P connect 36 1 37 0;#P connect 36 0 17 0;#P connect 17 2 19 0;#P connect 17 1 13 1;#P connect 14 0 13 0;#P connect 17 0 14 0;#P connect 14 1 19 0;#P connect 25 1 24 0;#P connect 49 0 48 0;#P connect 5 0 25 0;#P connect 54 0 53 0;#P connect 5 0 6 0;#P connect 1 0 4 0;#P connect 1 0 2 0;#P connect 3 0 1 0;#P connect 25 0 26 0;#P connect 26 0 22 0;#P connect 31 0 7 0;#P connect 7 0 37 0;#P connect 45 0 40 0;#P connect 58 0 50 0;#P pop;