max v2;#N vpatcher 38 55 638 476;#P user kslider 47 103 35 1 12 24 19 7;#P comment 180 37 375 196617 Karplus-Strong operates according to the principle of a recirculating delay line. The delay line is loaded with random values (a noise burst). At periodic intervals \, the waveform is averaged with a previous copy of itself. This averaging results in a lowpass filter effect. Thus the tones produced by this technique start out very bright \, but are quickly damped \, much like a plucked string.;#P flonum 47 275 74 9 0 0 0 3;#P number 8 234 35 9 0 0 0 3;#P slider 8 94 25 128 0 1;#P newex 47 253 29 196617 mtof;#P newex 67 201 88 196617 notein;#P newex 67 227 49 196617 stripnote;#P comment 99 316 107 196617 Convert frequency to period in milliseconds;#P flonum 47 319 50 9 0 0 0 3;#P newex 47 341 45 196617 t b f;#P newex 47 369 33 196617 s trig;#P newex 82 369 38 196617 s pitch;#P newex 47 297 85 196617 expr 1000. / $f1;#P comment 0 15 487 196622 TUTORIAL 19 - Simple Karplus-Strong plucked string synthesis;#P comment 80 41 22 196617 Off;#P comment 8 41 19 196617 On;#P message 8 55 49 196617 \; dac start;#P message 80 55 45 196617 \; dac stop;#P comment 277 122 172 196617 Delay time determines signal period. Notes with a period of less than 1.5 ms (approximately middle C) cannot be played using this algorithm because Max does not permit a feedback delay of less than 1.5 ms.;#P comment 275 351 75 196617 Delay feedback;#P comment 617 304 78 196617 Scale amplitude;#P comment 273 251 42 196617 Damper;#P comment 204 141 31 196617 Pitch;#P comment 326 217 105 196617 Filter averages the current sample with the preceding sample;#P flonum 204 178 66 9 0 0 0 3;#P newex 204 201 104 196617 delread~ anne_del 10;#P newex 204 155 38 196617 r pitch;#P newex 221 249 51 196617 sig~ 0.99;#P newex 204 274 27 196617 *~;#P newex 204 225 120 196617 2p2z~ 1. 0. 0. 0.5 0.5 0.;#P newex 235 332 115 196617 delwrite~ anne_del 100;#P newex 451 283 27 196617 *~;#P newex 468 257 45 196617 sig~ 0.1;#P newex 451 136 33 196617 r trig;#P button 451 164 58 0;#N vpatcher 131 90 457 394;#P newex 94 162 35 196617 osc1~;#P newex 119 136 27 196617 *~;#P newex 119 94 30 196617 line~;#P newex 94 194 125 196617 2p2z~ 1. 0.999 0 1. -1. 0;#P comment 35 58 80 196617 Noise Generator;#P comment 13 162 75 196617 Low pass filter;#P outlet 94 242 15 0;#P message 119 62 60 196617 1000 \, 0 10;#P inlet 119 21 15 0;#P connect 8 0 5 0;#P connect 7 0 8 1;#P connect 6 0 7 0;#P connect 1 0 6 0;#P connect 6 0 7 1;#P connect 5 0 2 0;#P connect 0 0 1 0;#P pop;#P newobj 451 228 98 196617 patcher noise_burst;#P newex 204 301 27 196617 +~;#P newex 204 368 29 196617 dac~;#P newex 173 343 31 196617 r dac;#P connect 34 0 37 0;#P connect 33 0 32 0;#P connect 33 1 32 1;#P connect 32 0 34 0;#P connect 29 0 28 0;#P connect 29 1 27 0;#P connect 26 0 30 0;#P connect 37 0 26 0;#P connect 36 0 34 0;#P connect 35 0 36 0;#P connect 30 0 29 0;#P connect 14 0 13 0;#P connect 13 0 9 0;#P connect 4 0 3 0;#P connect 12 0 14 0;#P connect 11 0 10 1;#P connect 10 0 2 0;#P connect 7 0 2 1;#P connect 6 0 7 1;#P connect 9 0 10 0;#P connect 3 0 7 0;#P connect 2 0 1 0;#P connect 2 0 1 1;#P connect 2 0 8 0;#P connect 0 0 1 0;#P connect 5 0 4 0;#P connect 39 0 34 0;#P pop;