outlets = 4;// 0:  -> thispatcher// 1:  -> forward// 2:  -> buffer~ inputsound// 3:  -> ubmenue for filesvar filecount = 0;var fileslist = new Array();var savefolder = "";// outlet(3,"clear");function make(s){		var s_base = s.replace(new RegExp("\.(aiff|wav|aif)"), "");	var y = 20 +filecount * 80 ;		//to thispatcher	outlet(0, "script",  "new", s_base+"-db", "newex", 20, y , 400, 196617, "coll", s_base+"-db.coll");	outlet(0, "script", "new", s_base+"-segs", "newex", 20, y +18, 400, 196617, "coll", s_base+"-segs.coll");	outlet(0, "script", "new", s_base+"-loops", "newex", 20, y +36, 400, 196617, "coll",s_base+"-loops.coll");	outlet(0, "script", "new", s_base+"-buffer", "newex", 20, y + 54, 400, 196617, "buffer~",s,s);			//to forward	outlet(1,"send", "segment-coll-name");	outlet(1,s_base+"-segs.coll");	outlet(1,"send", "loops-coll-name");	outlet(1,s_base+"-loops.coll");		//to buffer~	outlet(2,"replace", s);		//to ubmenu	outlet(3,"append", s);		fileslist[filecount] = s_base;	filecount = filecount + 1;}function setsavefolder(s){	savefolder = s;}function save(){	for(k=0;k<filecount;k++) {			s_base = fileslist[k];		outlet(0, "script",  "send", s_base+"-db", "write", savefolder+s_base+"-db.coll");		outlet(0, "script", "send", s_base+"-segs", "write", savefolder+s_base+"-segs.coll");		outlet(0, "script", "send", s_base+"-loops", "write", savefolder+s_base+"-loops.coll");	}}function select(s){	var s_base = s.replace(new RegExp("\.(aiff|wav|aif)"), "");		//to forward	outlet(1,"send", "segment-coll-name");	outlet(1,s_base+"-segs.coll");	outlet(1,"send", "loops-coll-name");	outlet(1,s_base+"-loops.coll");	//to buffer~	outlet(2,"replace", s);}function clear(){	for(k=0;k<filecount;k++) {			s_base = fileslist[k];		outlet(0, "script", "delete", s_base+"-db");		outlet(0, "script", "delete", s_base+"-segs write");		outlet(0, "script", "delete", s_base+"-loops write");		outlet(0, "script", "delete", s_base+"-buffer write");	  	   	}	filecount = 0;	outlet(3,"clear");}